'use strict';(function(){function a(){h.classList.toggle('overflow-on'),h.classList.toggle('overflow-off')}function b(){var a=Math.floor(16777215*Math.random());return'#'+('000000'+a.toString(16)).substr(-6)}function c(a){var b=['r','g','b'],c={},d=a.replace(/^rgb?\(|\s+|\)$/g,'').split(',');for(var e in b)c[b[e]]=d[e]||1;return c}function d(a){function b(){var a=Math.sqrt(0.299*(e*e)+0.587*(f*f)+0.114*(g*g));return Math.trunc(a)}var d=c(a),e=parseInt(d.r),f=parseInt(d.g),g=parseInt(d.b);if(120>b())return'rgb(255,255,255)';return 120<=b()?'rgb(0,0,0);':void 0}function e(){var a,c=!0,e=!1;try{for(var f,g,h=i[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)g=f.value,g.style.backgroundColor=b()}catch(b){e=!0,a=b}finally{try{!c&&h.return&&h.return()}finally{if(e)throw a}}var j,k=document.getElementsByClassName('grid-item__label'),l=!0,m=!1;try{for(var n,o,p=k[Symbol.iterator]();!(l=(n=p.next()).done);l=!0)o=n.value,o.style.color=d(o.parentNode.parentNode.style.backgroundColor)}catch(a){m=!0,j=a}finally{try{!l&&p.return&&p.return()}finally{if(m)throw j}}var q,r=document.getElementsByClassName('grid-item__button--delete'),s=!0,t=!1;try{for(var u,v,w=r[Symbol.iterator]();!(s=(u=w.next()).done);s=!0)v=u.value,v.style.color=d(v.parentNode.style.backgroundColor)}catch(a){t=!0,q=a}finally{try{!s&&w.return&&w.return()}finally{if(t)throw q}}var x,y=document.getElementsByClassName('grid-item__button--apply'),z=!0,A=!1;try{for(var B,C,D=y[Symbol.iterator]();!(z=(B=D.next()).done);z=!0)C=B.value,C.style.color=d(C.parentNode.style.backgroundColor)}catch(a){A=!0,x=a}finally{try{!z&&D.return&&D.return()}finally{if(A)throw x}}}function f(a){var b=a.parentNode.querySelector('.grid-item__label--column-start').querySelector('.gridColumnStart').value,c=a.parentNode.querySelector('.grid-item__label--column-end').querySelector('.gridColumnEnd').value,d=a.parentNode.querySelector('.grid-item__label--row-start').querySelector('.gridRowStart').value,e=a.parentNode.querySelector('.grid-item__label--row-end').querySelector('.gridRowEnd').value;a.parentNode.style.gridColumnStart=b,a.parentNode.style.gridColumnEnd=c,a.parentNode.style.gridRowStart=d,a.parentNode.style.gridRowEnd=e}function g(){window.matchMedia('(min-width: 801px)').matches?(o.setAttribute('value','3'),p.setAttribute('value','3'),s.setAttribute('value','10px'),t.setAttribute('value','10px')):window.matchMedia('(max-width: 800px)').matches&&(o.setAttribute('value','2'),p.setAttribute('value','3'),s.setAttribute('value','5px'),t.setAttribute('value','5px'))}'serviceWorker'in navigator&&navigator.serviceWorker.register('./serviceworker.js').then(function(a){console.log('Service worker registration done, scope is:',a.scope)}).catch(function(a){console.log('Service worker registration failed, error:',a)});var h=document.getElementById('body'),i=document.getElementsByClassName('grid-item');window.addEventListener('resize',function(){g()}),document.addEventListener('DOMContentLoaded',function(){e(),g()});var j=document.getElementById('optionsButton'),k=document.getElementById('options-box');j.addEventListener('click',function(){k.classList.toggle('grid-options--expanded')});var l=document.getElementById('grid'),m=document.getElementById('gridWidth'),n=document.getElementById('gridHeight'),o=document.getElementById('gridColumns'),p=document.getElementById('gridRows'),q=document.getElementById('gridColumnSize'),r=document.getElementById('gridRowSize'),s=document.getElementById('gridColumnGap'),t=document.getElementById('gridRowGap'),u=document.getElementById('gridAutoFlow'),v=document.getElementById('gridOptionsApply');v.addEventListener('click',function(){k.classList.toggle('grid-options--expanded');var a=o.value,b=q.value,c=p.value,d=r.value,e=s.value,f=t.value,g=u.value;l.style.height=n.value,l.style.width=m.value,l.style.gridTemplateColumns='repeat('+a+','+b+')',l.style.gridTemplateRows='repeat('+c+', '+d+')',l.style.gridColumnGap=''+e,l.style.gridRowGap=''+f,l.style.gridAutoFlow=''+g});var w=document.getElementById('addGridItem');w.addEventListener('click',function(){function a(a,b,c){var d=document.createElement('label');d.classList.add('grid-item__label'),d.classList.add(a);var e=document.createElement('input');return e.classList.add('grid-item__input'),e.classList.add(b),e.setAttribute('type','text'),d.textContent=c,d.appendChild(e),d}var c=document.createElement('div');c.classList.add('grid-item');var e=document.createElement('button');e.classList.add('grid-item__button'),e.classList.add('grid-item__button--delete'),e.textContent='Delete ';var g=document.createElement('span');g.classList.add('icon-cancel');var h=document.createElement('button');h.classList.add('grid-item__button'),h.classList.add('grid-item__button--apply'),h.textContent='Apply ';var i=document.createElement('span');i.classList.add('icon-ok');var j=document.createElement('form');j.classList.add('grid-item__options');var k=document.createElement('label');k.classList.add('grid-item__label'),e.appendChild(g),h.appendChild(i),c.appendChild(e),c.style.backgroundColor=b(),j.appendChild(a('grid-item__label--column-start','gridColumnStart','grid-column-start:')),j.appendChild(a('grid-item__label--column-end','gridColumnEnd','grid-column-end:')),j.appendChild(a('grid-item__label--row-start','gridRowStart','grid-row-start:')),j.appendChild(a('grid-item__label--row-end','gridRowEnd','grid-row-end:')),c.appendChild(j),c.appendChild(h);var m,n=c.querySelectorAll('.grid-item__label'),o=!0,p=!1;try{for(var q,r=n[Symbol.iterator]();!(o=(q=r.next()).done);o=!0){var s=q.value,t=d(s.parentNode.parentNode.style.backgroundColor);s.style.color=t,e.style.color=t,h.style.color=t}}catch(a){p=!0,m=a}finally{try{!o&&r.return&&r.return()}finally{if(p)throw m}}e.addEventListener('click',function(){e.parentNode.remove()}),h.addEventListener('click',function(){f(h)}),l.appendChild(c)});var x,y=document.getElementsByClassName('grid-item__button--delete'),z=document.getElementsByClassName('icon-cancel'),A=!0,B=!1;try{for(var C,D,E=y[Symbol.iterator]();!(A=(C=E.next()).done);A=!0)D=C.value,D.addEventListener('click',function(a){a.target.parentNode.remove()})}catch(a){B=!0,x=a}finally{try{!A&&E.return&&E.return()}finally{if(B)throw x}}var F,G=!0,H=!1;try{for(var I,J,K=z[Symbol.iterator]();!(G=(I=K.next()).done);G=!0)J=I.value,J.addEventListener('click',function(a){a.target.parentNode.parentNode.remove()})}catch(a){H=!0,F=a}finally{try{!G&&K.return&&K.return()}finally{if(H)throw F}}var L,M=document.getElementsByClassName('grid-item__button--apply'),N=!0,O=!1;try{for(var P,Q=function(){var a=P.value;a.addEventListener('click',function(){f(a)})},R=M[Symbol.iterator]();!(N=(P=R.next()).done);N=!0)Q()}catch(a){O=!0,L=a}finally{try{!N&&R.return&&R.return()}finally{if(O)throw L}}var S=document.getElementById('showHelp'),T=document.getElementById('helpModal'),U=document.getElementById('closeModal');S.addEventListener('click',function(){T.classList.add('grid-options__help-box--visible'),a()}),U.addEventListener('click',function(){T.classList.remove('grid-options__help-box--visible'),a()})})();