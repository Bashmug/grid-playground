'use strict';(function(){function a(){var a=document.getElementById('body');a.classList.toggle('overflow-on'),a.classList.toggle('overflow-off')}function b(){var a=Math.floor(16777215*Math.random());return'#'+('000000'+a.toString(16)).substr(-6)}function c(a){var b=['r','g','b'],c={},d=a.replace(/^rgb?\(|\s+|\)$/g,'').split(',');for(var e in b)c[b[e]]=d[e]||1;return c}function d(a){function b(){var a=Math.sqrt(0.299*(e*e)+0.587*(f*f)+0.114*(g*g));return Math.trunc(a)}var d=c(a),e=parseInt(d.r),f=parseInt(d.g),g=parseInt(d.b);if(100>b())return'rgb(255,255,255)';return 100<=b()?'rgb(0,0,0);':void 0}function e(){var a,c=!0,e=!1;try{for(var f,g,i=h[Symbol.iterator]();!(c=(f=i.next()).done);c=!0)g=f.value,g.style.backgroundColor=b()}catch(b){e=!0,a=b}finally{try{!c&&i.return&&i.return()}finally{if(e)throw a}}var j,k=document.getElementsByClassName('grid-item__label'),l=!0,m=!1;try{for(var n,o,p=k[Symbol.iterator]();!(l=(n=p.next()).done);l=!0)o=n.value,o.style.color=d(o.parentNode.parentNode.style.backgroundColor)}catch(a){m=!0,j=a}finally{try{!l&&p.return&&p.return()}finally{if(m)throw j}}var q,r=document.getElementsByClassName('grid-item__button--delete'),s=!0,t=!1;try{for(var u,v,w=r[Symbol.iterator]();!(s=(u=w.next()).done);s=!0)v=u.value,v.style.color=d(v.parentNode.style.backgroundColor)}catch(a){t=!0,q=a}finally{try{!s&&w.return&&w.return()}finally{if(t)throw q}}var x,y=document.getElementsByClassName('grid-item__button--apply'),z=!0,A=!1;try{for(var B,C,D=y[Symbol.iterator]();!(z=(B=D.next()).done);z=!0)C=B.value,C.style.color=d(C.parentNode.style.backgroundColor)}catch(a){A=!0,x=a}finally{try{!z&&D.return&&D.return()}finally{if(A)throw x}}}function f(a){var b=a.parentNode.querySelector('.grid-item__label--column-start').querySelector('.gridColumnStart').value,c=a.parentNode.querySelector('.grid-item__label--column-end').querySelector('.gridColumnEnd').value,d=a.parentNode.querySelector('.grid-item__label--row-start').querySelector('.gridRowStart').value,e=a.parentNode.querySelector('.grid-item__label--row-end').querySelector('.gridRowEnd').value;a.parentNode.style.gridColumnStart=b,a.parentNode.style.gridColumnEnd=c,a.parentNode.style.gridRowStart=d,a.parentNode.style.gridRowEnd=e}function g(){window.matchMedia('max-width: 800px')?(n.setAttribute('value','2'),o.setAttribute('value','3'),r.setAttribute('value','5px'),s.setAttribute('value','5px')):window.matchMedia('min-width: 801px')&&(n.setAttribute('value','3'),o.setAttribute('value','3'),r.setAttribute('value','10px'),s.setAttribute('value','10px'))}'serviceWorker'in navigator&&navigator.serviceWorker.register('./serviceworker.js').then(function(a){console.log('Service worker registration done, scope is:',a.scope)}).catch(function(a){console.log('Service worker registration failed, error:',a)});var h=document.getElementsByClassName('grid-item');window.addEventListener('resize',function(){g()}),document.addEventListener('DOMContentLoaded',function(){e(),g()});var i=document.getElementById('optionsButton'),j=document.getElementById('options-box');i.addEventListener('click',function(){j.classList.toggle('grid-options--expanded')});var k=document.getElementById('grid'),l=document.getElementById('gridWidth'),m=document.getElementById('gridHeight'),n=document.getElementById('gridColumns'),o=document.getElementById('gridRows'),p=document.getElementById('gridColumnSize'),q=document.getElementById('gridRowSize'),r=document.getElementById('gridColumnGap'),s=document.getElementById('gridRowGap'),t=document.getElementById('gridAutoFlow');m.addEventListener('change',function(){k.style.height=m.value}),l.addEventListener('change',function(){k.style.width=l.value}),n.addEventListener('change',function(){var a=n.value,b=p.value;k.style.gridTemplateColumns='repeat('+a+','+b+')'}),o.addEventListener('change',function(){var a=o.value,b=q.value;k.style.gridTemplateRows='repeat('+a+', '+b+')'}),p.addEventListener('change',function(){var a=n.value,b=p.value;k.style.gridTemplateColumns='repeat('+a+','+b+')'}),q.addEventListener('change',function(){var a=o.value,b=q.value;k.style.gridTemplateRows='repeat('+a+', '+b+')'}),r.addEventListener('change',function(){var a=r.value;k.style.gridColumnGap=''+a}),s.addEventListener('change',function(){var a=s.value;k.style.gridRowGap=''+a}),t.addEventListener('change',function(){var a=t.value;k.style.gridAutoFlow=''+a});var u=document.getElementById('addGridItem');u.addEventListener('click',function(){function a(a,b,c){var d=document.createElement('label');d.classList.add('grid-item__label'),d.classList.add(a);var e=document.createElement('input');return e.classList.add('grid-item__input'),e.classList.add(b),e.setAttribute('type','text'),d.textContent=c,d.appendChild(e),d}var c=document.createElement('div');c.classList.add('grid-item');var d=document.createElement('button');d.classList.add('grid-item__button'),d.classList.add('grid-item__button--delete'),d.textContent='Delete ';var e=document.createElement('span');e.classList.add('icon-cancel');var g=document.createElement('button');g.classList.add('grid-item__button'),g.classList.add('grid-item__button--apply'),g.textContent='Apply ';var h=document.createElement('span');h.classList.add('icon-ok');var i=document.createElement('form');i.classList.add('grid-item__options');var j=document.createElement('label');j.classList.add('grid-item__label'),d.appendChild(e),g.appendChild(h),c.appendChild(d),c.style.backgroundColor=b(),i.appendChild(a('grid-item__label--column-start','gridColumnStart','grid-column-start:',c.style.backgroundColor)),i.appendChild(a('grid-item__label--column-end','gridColumnEnd','grid-column-end:',c.style.backgroundColor)),i.appendChild(a('grid-item__label--row-start','gridRowStart','grid-row-start:',c.style.backgroundColor)),i.appendChild(a('grid-item__label--row-end','gridRowEnd','grid-row-end:',c.style.backgroundColor)),c.appendChild(i),c.appendChild(g),d.addEventListener('click',function(){d.parentNode.remove()}),g.addEventListener('click',function(){f(g)}),k.appendChild(c)});var v,w=document.getElementsByClassName('grid-item__button--delete'),x=document.getElementsByClassName('icon-cancel'),y=!0,z=!1;try{for(var A,B,C=w[Symbol.iterator]();!(y=(A=C.next()).done);y=!0)B=A.value,B.addEventListener('click',function(a){a.target.parentNode.remove()})}catch(a){z=!0,v=a}finally{try{!y&&C.return&&C.return()}finally{if(z)throw v}}var D,E=!0,F=!1;try{for(var G,H,I=x[Symbol.iterator]();!(E=(G=I.next()).done);E=!0)H=G.value,H.addEventListener('click',function(a){a.target.parentNode.parentNode.remove()})}catch(a){F=!0,D=a}finally{try{!E&&I.return&&I.return()}finally{if(F)throw D}}var J,K=document.getElementsByClassName('grid-item__button--apply'),L=!0,M=!1;try{for(var N,O=function(){var a=N.value;a.addEventListener('click',function(){f(a)})},P=K[Symbol.iterator]();!(L=(N=P.next()).done);L=!0)O()}catch(a){M=!0,J=a}finally{try{!L&&P.return&&P.return()}finally{if(M)throw J}}var Q=document.getElementById('showHelp'),R=document.getElementById('helpModal'),S=document.getElementById('closeModal');Q.addEventListener('click',function(){R.classList.add('grid-options__help-box--visible'),a()}),S.addEventListener('click',function(){R.classList.remove('grid-options__help-box--visible'),a()})})();