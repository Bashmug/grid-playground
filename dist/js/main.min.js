'use strict';(function(){function a(){var a=document.getElementById('body');a.classList.toggle('overflow-on'),a.classList.toggle('overflow-off')}function b(){var a=Math.floor(16777215*Math.random());return'#'+('000000'+a.toString(16)).substr(-6)}function c(a){var b=['r','g','b'],c={},d=a.replace(/^rgb?\(|\s+|\)$/g,'').split(',');for(var e in b)c[b[e]]=d[e]||1;return c}function d(a){function b(){var a=Math.sqrt(0.299*(e*e)+0.587*(f*f)+0.114*(g*g));return Math.trunc(a)}var d=c(a),e=parseInt(d.r),f=parseInt(d.g),g=parseInt(d.b);if(120>b())return'rgb(255,255,255)';return 120<=b()?'rgb(0,0,0);':void 0}function e(){var a,c=!0,e=!1;try{for(var f,g,i=h[Symbol.iterator]();!(c=(f=i.next()).done);c=!0)g=f.value,g.style.backgroundColor=b()}catch(b){e=!0,a=b}finally{try{!c&&i.return&&i.return()}finally{if(e)throw a}}var j,k=document.getElementsByClassName('grid-item__label'),l=!0,m=!1;try{for(var n,o,p=k[Symbol.iterator]();!(l=(n=p.next()).done);l=!0)o=n.value,o.style.color=d(o.parentNode.parentNode.style.backgroundColor)}catch(a){m=!0,j=a}finally{try{!l&&p.return&&p.return()}finally{if(m)throw j}}var q,r=document.getElementsByClassName('grid-item__button--delete'),s=!0,t=!1;try{for(var u,v,w=r[Symbol.iterator]();!(s=(u=w.next()).done);s=!0)v=u.value,v.style.color=d(v.parentNode.style.backgroundColor)}catch(a){t=!0,q=a}finally{try{!s&&w.return&&w.return()}finally{if(t)throw q}}var x,y=document.getElementsByClassName('grid-item__button--apply'),z=!0,A=!1;try{for(var B,C,D=y[Symbol.iterator]();!(z=(B=D.next()).done);z=!0)C=B.value,C.style.color=d(C.parentNode.style.backgroundColor)}catch(a){A=!0,x=a}finally{try{!z&&D.return&&D.return()}finally{if(A)throw x}}}function f(a){var b=a.parentNode.querySelector('.grid-item__label--column-start').querySelector('.gridColumnStart').value,c=a.parentNode.querySelector('.grid-item__label--column-end').querySelector('.gridColumnEnd').value,d=a.parentNode.querySelector('.grid-item__label--row-start').querySelector('.gridRowStart').value,e=a.parentNode.querySelector('.grid-item__label--row-end').querySelector('.gridRowEnd').value;a.parentNode.style.gridColumnStart=b,a.parentNode.style.gridColumnEnd=c,a.parentNode.style.gridRowStart=d,a.parentNode.style.gridRowEnd=e}function g(){window.matchMedia('(min-width: 801px)').matches?(n.setAttribute('value','3'),o.setAttribute('value','3'),r.setAttribute('value','10px'),s.setAttribute('value','10px')):window.matchMedia('(max-width: 800px)').matches&&(n.setAttribute('value','2'),o.setAttribute('value','3'),r.setAttribute('value','5px'),s.setAttribute('value','5px'))}'serviceWorker'in navigator&&navigator.serviceWorker.register('./serviceworker.js').then(function(a){console.log('Service worker registration done, scope is:',a.scope)}).catch(function(a){console.log('Service worker registration failed, error:',a)});var h=document.getElementsByClassName('grid-item');window.addEventListener('resize',function(){g()}),document.addEventListener('DOMContentLoaded',function(){e(),g()});var i=document.getElementById('optionsButton'),j=document.getElementById('options-box');i.addEventListener('click',function(){j.classList.toggle('grid-options--expanded')});var k=document.getElementById('grid'),l=document.getElementById('gridWidth'),m=document.getElementById('gridHeight'),n=document.getElementById('gridColumns'),o=document.getElementById('gridRows'),p=document.getElementById('gridColumnSize'),q=document.getElementById('gridRowSize'),r=document.getElementById('gridColumnGap'),s=document.getElementById('gridRowGap'),t=document.getElementById('gridAutoFlow'),u=document.getElementById('gridOptionsApply');u.addEventListener('click',function(){j.classList.toggle('grid-options--expanded');var a=n.value,b=p.value,c=o.value,d=q.value,e=r.value,f=s.value,g=t.value;k.style.height=m.value,k.style.width=l.value,k.style.gridTemplateColumns='repeat('+a+','+b+')',k.style.gridTemplateRows='repeat('+c+', '+d+')',k.style.gridColumnGap=''+e,k.style.gridRowGap=''+f,k.style.gridAutoFlow=''+g});var v=document.getElementById('addGridItem');v.addEventListener('click',function(){function a(a,b,c){var d=document.createElement('label');d.classList.add('grid-item__label'),d.classList.add(a);var e=document.createElement('input');return e.classList.add('grid-item__input'),e.classList.add(b),e.setAttribute('type','text'),d.textContent=c,d.appendChild(e),d}var c=document.createElement('div');c.classList.add('grid-item');var e=document.createElement('button');e.classList.add('grid-item__button'),e.classList.add('grid-item__button--delete'),e.textContent='Delete ';var g=document.createElement('span');g.classList.add('icon-cancel');var h=document.createElement('button');h.classList.add('grid-item__button'),h.classList.add('grid-item__button--apply'),h.textContent='Apply ';var i=document.createElement('span');i.classList.add('icon-ok');var j=document.createElement('form');j.classList.add('grid-item__options');var l=document.createElement('label');l.classList.add('grid-item__label'),e.appendChild(g),h.appendChild(i),c.appendChild(e),c.style.backgroundColor=b(),j.appendChild(a('grid-item__label--column-start','gridColumnStart','grid-column-start:')),j.appendChild(a('grid-item__label--column-end','gridColumnEnd','grid-column-end:')),j.appendChild(a('grid-item__label--row-start','gridRowStart','grid-row-start:')),j.appendChild(a('grid-item__label--row-end','gridRowEnd','grid-row-end:')),c.appendChild(j),c.appendChild(h);var m,n=c.querySelectorAll('.grid-item__label'),o=!0,p=!1;try{for(var q,r=n[Symbol.iterator]();!(o=(q=r.next()).done);o=!0){var s=q.value,t=d(s.parentNode.parentNode.style.backgroundColor);s.style.color=t,e.style.color=t,h.style.color=t}}catch(a){p=!0,m=a}finally{try{!o&&r.return&&r.return()}finally{if(p)throw m}}e.addEventListener('click',function(){e.parentNode.remove()}),h.addEventListener('click',function(){f(h)}),k.appendChild(c)});var w,x=document.getElementsByClassName('grid-item__button--delete'),y=document.getElementsByClassName('icon-cancel'),z=!0,A=!1;try{for(var B,C,D=x[Symbol.iterator]();!(z=(B=D.next()).done);z=!0)C=B.value,C.addEventListener('click',function(a){a.target.parentNode.remove()})}catch(a){A=!0,w=a}finally{try{!z&&D.return&&D.return()}finally{if(A)throw w}}var E,F=!0,G=!1;try{for(var H,I,J=y[Symbol.iterator]();!(F=(H=J.next()).done);F=!0)I=H.value,I.addEventListener('click',function(a){a.target.parentNode.parentNode.remove()})}catch(a){G=!0,E=a}finally{try{!F&&J.return&&J.return()}finally{if(G)throw E}}var K,L=document.getElementsByClassName('grid-item__button--apply'),M=!0,N=!1;try{for(var O,P=function(){var a=O.value;a.addEventListener('click',function(){f(a)})},Q=L[Symbol.iterator]();!(M=(O=Q.next()).done);M=!0)P()}catch(a){N=!0,K=a}finally{try{!M&&Q.return&&Q.return()}finally{if(N)throw K}}var R=document.getElementById('showHelp'),S=document.getElementById('helpModal'),T=document.getElementById('closeModal');R.addEventListener('click',function(){S.classList.add('grid-options__help-box--visible'),a()}),T.addEventListener('click',function(){S.classList.remove('grid-options__help-box--visible'),a()})})();