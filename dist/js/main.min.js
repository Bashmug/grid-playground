'use strict';(function(){function a(){pageBody=document.getElementById('body'),pageBody.classList.toggle('overflow-on'),pageBody.classList.toggle('overflow-off')}function b(){var a=Math.floor(16777215*Math.random());return'#'+('000000'+a.toString(16)).substr(-6)}function c(a){var b=['r','g','b'],c={},d=a.replace(/^rgb?\(|\s+|\)$/g,'').split(',');for(var e in b)c[b[e]]=d[e]||1;return c}function d(a){function b(){rValue=0.299*(rInteger*rInteger),gValue=0.587*(gInteger*gInteger),bValue=0.114*(bInteger*bInteger);var a=Math.sqrt(rValue+gValue+bValue);return Math.trunc(a)}var d=c(a);return(rInteger=parseInt(d.r),gInteger=parseInt(d.g),bInteger=parseInt(d.b),100>b())?'rgb(255,255,255)':100<=b()?'rgb(0,0,0);':void 0}function e(){var a,c=!0,e=!1;try{for(var f,h,i=g[Symbol.iterator]();!(c=(f=i.next()).done);c=!0)h=f.value,h.style.backgroundColor=b()}catch(b){e=!0,a=b}finally{try{!c&&i.return&&i.return()}finally{if(e)throw a}}var j,k=document.getElementsByClassName('grid-item__label'),l=!0,m=!1;try{for(var n,o,p=k[Symbol.iterator]();!(l=(n=p.next()).done);l=!0)o=n.value,o.style.color=d(o.parentNode.parentNode.style.backgroundColor)}catch(a){m=!0,j=a}finally{try{!l&&p.return&&p.return()}finally{if(m)throw j}}var q,r=document.getElementsByClassName('grid-item__button--delete'),s=!0,t=!1;try{for(var u,v,w=r[Symbol.iterator]();!(s=(u=w.next()).done);s=!0)v=u.value,v.style.color=d(v.parentNode.style.backgroundColor)}catch(a){t=!0,q=a}finally{try{!s&&w.return&&w.return()}finally{if(t)throw q}}}function f(){window.matchMedia('max-width: 800px')?(m.setAttribute('value','2'),n.setAttribute('value','3'),q.setAttribute('value','5px'),r.setAttribute('value','5px')):window.matchMedia('min-width: 801px')&&(m.setAttribute('value','3'),n.setAttribute('value','3'),q.setAttribute('value','10px'),r.setAttribute('value','10px'))}'serviceWorker'in navigator&&navigator.serviceWorker.register('serviceworker.js').then(function(a){console.log('Service worker registration done, scope is:',a.scope)}).catch(function(a){console.log('Service worker registration failed, error:',a)});var g=document.getElementsByClassName('grid-item');window.addEventListener('resize',function(){f()}),document.addEventListener('DOMContentLoaded',function(){e(),f()});var h=document.getElementById('optionsButton'),i=document.getElementById('options-box');h.addEventListener('click',function(){i.classList.toggle('grid-options--expanded')});var j=document.getElementById('grid'),k=document.getElementById('gridWidth'),l=document.getElementById('gridHeight'),m=document.getElementById('gridColumns'),n=document.getElementById('gridRows'),o=document.getElementById('gridColumnSize'),p=document.getElementById('gridRowSize'),q=document.getElementById('gridColumnGap'),r=document.getElementById('gridRowGap'),s=document.getElementById('gridAutoFlow');l.addEventListener('change',function(){j.style.height=l.value}),k.addEventListener('change',function(){j.style.width=k.value}),m.addEventListener('change',function(){var a=m.value,b=o.value;j.style.gridTemplateColumns='repeat('+a+','+b+')'}),n.addEventListener('change',function(){var a=n.value,b=p.value;j.style.gridTemplateRows='repeat('+a+', '+b+')'}),o.addEventListener('change',function(){var a=m.value,b=o.value;j.style.gridTemplateColumns='repeat('+a+','+b+')'}),p.addEventListener('change',function(){var a=n.value,b=p.value;j.style.gridTemplateRows='repeat('+a+', '+b+')'}),q.addEventListener('change',function(){var a=q.value;j.style.gridColumnGap=''+a}),r.addEventListener('change',function(){var a=r.value;j.style.gridRowGap=''+a}),s.addEventListener('change',function(){var a=s.value;j.style.gridAutoFlow=''+a});var t=document.getElementById('addGridItem');t.addEventListener('click',function(){function a(a,b,c){var d=document.createElement('label');d.classList.add('grid-item__label'),d.classList.add(a);var e=document.createElement('input');return e.classList.add('grid-item__input'),e.classList.add(b),e.setAttribute('type','text'),e.addEventListener('change',function(){var a=e.value;e.classList.contains('gridColumnStart')?e.parentNode.parentNode.parentNode.style.gridColumnStart=''+a:e.classList.contains('gridColumnEnd')?e.parentNode.parentNode.parentNode.style.gridColumnEnd=''+a:e.classList.contains('gridRowStart')?e.parentNode.parentNode.parentNode.style.gridRowStart=''+a:e.classList.contains('gridRowEnd')&&(e.parentNode.parentNode.parentNode.style.gridRowEnd=''+a)}),d.textContent=c,d.appendChild(e),d}var c=document.createElement('div');c.classList.add('grid-item');var d=document.createElement('button');d.classList.add('grid-item__button'),d.classList.add('grid-item__button--delete'),d.textContent='Delete ';var e=document.createElement('span');e.classList.add('icon-cancel');var f=document.createElement('form');f.classList.add('grid-item__options');var g=document.createElement('label');g.classList.add('grid-item__label'),d.appendChild(e),c.appendChild(d),c.style.backgroundColor=b(),f.appendChild(a('grid-item__label--column-start','gridColumnStart','grid-column-start:',c.style.backgroundColor)),f.appendChild(a('grid-item__label--column-end','gridColumnEnd','grid-column-end:',c.style.backgroundColor)),f.appendChild(a('grid-item__label--row-start','gridRowStart','grid-row-start:',c.style.backgroundColor)),f.appendChild(a('grid-item__label--row-end','gridRowEnd','grid-row-end:',c.style.backgroundColor)),c.appendChild(f),d.addEventListener('click',function(){d.parentNode.remove()}),j.appendChild(c)});var u,v=document.getElementsByClassName('grid-item__button--delete'),w=!0,x=!1;try{for(var y,z,A=v[Symbol.iterator]();!(w=(y=A.next()).done);w=!0)z=y.value,z.addEventListener('click',function(a){a.target.parentNode.remove()})}catch(a){x=!0,u=a}finally{try{!w&&A.return&&A.return()}finally{if(x)throw u}}var B,C=document.getElementsByClassName('gridColumnStart'),D=document.getElementsByClassName('gridColumnEnd'),E=document.getElementsByClassName('gridRowStart'),F=document.getElementsByClassName('gridRowEnd'),G=!0,H=!1;try{for(var I,J,K=C[Symbol.iterator]();!(G=(I=K.next()).done);G=!0)J=I.value,J.addEventListener('change',function(a){var b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridColumnStart=''+b})}catch(a){H=!0,B=a}finally{try{!G&&K.return&&K.return()}finally{if(H)throw B}}var L,M=!0,N=!1;try{for(var O,P,Q=D[Symbol.iterator]();!(M=(O=Q.next()).done);M=!0)P=O.value,P.addEventListener('change',function(a){var b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridColumnEnd=''+b})}catch(a){N=!0,L=a}finally{try{!M&&Q.return&&Q.return()}finally{if(N)throw L}}var R,S=!0,T=!1;try{for(var U,V,W=E[Symbol.iterator]();!(S=(U=W.next()).done);S=!0)V=U.value,V.addEventListener('change',function(a){var b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridRowStart=''+b})}catch(a){T=!0,R=a}finally{try{!S&&W.return&&W.return()}finally{if(T)throw R}}var X,Y=!0,Z=!1;try{for(var $,_,aa=F[Symbol.iterator]();!(Y=($=aa.next()).done);Y=!0)_=$.value,_.addEventListener('change',function(a){var b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridRowEnd=''+b})}catch(a){Z=!0,X=a}finally{try{!Y&&aa.return&&aa.return()}finally{if(Z)throw X}}var ba=document.getElementById('showHelp'),ca=document.getElementById('helpModal'),da=document.getElementById('closeModal');ba.addEventListener('click',function(){ca.classList.add('grid-options__help-box--visible'),a()}),da.addEventListener('click',function(){ca.classList.remove('grid-options__help-box--visible'),a()})})();