(function(){function a(){pageBody=document.getElementById('body'),pageBody.classList.toggle('overflow-on'),pageBody.classList.toggle('overflow-off')}function b(){let a=Math.floor(16777215*Math.random());return'#'+('000000'+a.toString(16)).substr(-6)}function c(a){const b=['r','g','b'];let c={},d=a.replace(/^rgb?\(|\s+|\)$/g,'').split(',');for(let e in b)c[b[e]]=d[e]||1;return c}function d(a){function b(){rValue=0.299*(rInteger*rInteger),gValue=0.587*(gInteger*gInteger),bValue=0.114*(bInteger*bInteger);let a=Math.sqrt(rValue+gValue+bValue);return Math.trunc(a)}let d=c(a);return(rInteger=parseInt(d.r),gInteger=parseInt(d.g),bInteger=parseInt(d.b),100>b())?'rgb(255,255,255)':100<=b()?'rgb(0,0,0);':void 0}function e(){for(let a of g)a.style.backgroundColor=b();let a=document.getElementsByClassName('grid-item__label');for(let b of a)b.style.color=d(b.parentNode.parentNode.style.backgroundColor);let c=document.getElementsByClassName('grid-item__button--delete');for(let a of c)a.style.color=d(a.parentNode.style.backgroundColor)}function f(){window.matchMedia('max-width: 800px')?(m.setAttribute('value','2'),n.setAttribute('value','3'),q.setAttribute('value','5px'),r.setAttribute('value','5px')):window.matchMedia('min-width: 801px')&&(m.setAttribute('value','3'),n.setAttribute('value','3'),q.setAttribute('value','10px'),r.setAttribute('value','10px'))}'serviceWorker'in navigator&&navigator.serviceWorker.register('/serviceworker.js').then(function(){console.log('ServiceWorker registration successful!')}).catch(function(a){console.log('ServiceWorker registration failed: ',a)});const g=document.getElementsByClassName('grid-item');window.addEventListener('resize',()=>{f()}),document.addEventListener('DOMContentLoaded',()=>{e(),f()});const h=document.getElementById('optionsButton'),i=document.getElementById('options-box');h.addEventListener('click',()=>{i.classList.toggle('grid-options--expanded')});const j=document.getElementById('grid'),k=document.getElementById('gridWidth'),l=document.getElementById('gridHeight'),m=document.getElementById('gridColumns'),n=document.getElementById('gridRows'),o=document.getElementById('gridColumnSize'),p=document.getElementById('gridRowSize'),q=document.getElementById('gridColumnGap'),r=document.getElementById('gridRowGap'),s=document.getElementById('gridAutoFlow');l.addEventListener('change',()=>{j.style.height=l.value}),k.addEventListener('change',()=>{j.style.width=k.value}),m.addEventListener('change',()=>{let a=m.value,b=o.value;j.style.gridTemplateColumns=`repeat(${a},${b})`}),n.addEventListener('change',()=>{let a=n.value,b=p.value;j.style.gridTemplateRows=`repeat(${a}, ${b})`}),o.addEventListener('change',()=>{let a=m.value,b=o.value;j.style.gridTemplateColumns=`repeat(${a},${b})`}),p.addEventListener('change',()=>{let a=n.value,b=p.value;j.style.gridTemplateRows=`repeat(${a}, ${b})`}),q.addEventListener('change',()=>{let a=q.value;j.style.gridColumnGap=`${a}`}),r.addEventListener('change',()=>{let a=r.value;j.style.gridRowGap=`${a}`}),s.addEventListener('change',()=>{let a=s.value;j.style.gridAutoFlow=`${a}`});const t=document.getElementById('addGridItem');t.addEventListener('click',()=>{function a(a,b,c){let d=document.createElement('label');d.classList.add('grid-item__label'),d.classList.add(a);let e=document.createElement('input');return e.classList.add('grid-item__input'),e.classList.add(b),e.setAttribute('type','text'),e.addEventListener('change',function(){let a=e.value;e.classList.contains('gridColumnStart')?e.parentNode.parentNode.parentNode.style.gridColumnStart=`${a}`:e.classList.contains('gridColumnEnd')?e.parentNode.parentNode.parentNode.style.gridColumnEnd=`${a}`:e.classList.contains('gridRowStart')?e.parentNode.parentNode.parentNode.style.gridRowStart=`${a}`:e.classList.contains('gridRowEnd')&&(e.parentNode.parentNode.parentNode.style.gridRowEnd=`${a}`)}),d.textContent=c,d.appendChild(e),d}let c=document.createElement('div');c.classList.add('grid-item');let d=document.createElement('button');d.classList.add('grid-item__button'),d.classList.add('grid-item__button--delete'),d.textContent='Delete ';let e=document.createElement('span');e.classList.add('icon-cancel');let f=document.createElement('form');f.classList.add('grid-item__options');let g=document.createElement('label');g.classList.add('grid-item__label'),d.appendChild(e),c.appendChild(d),c.style.backgroundColor=b(),f.appendChild(a('grid-item__label--column-start','gridColumnStart','grid-column-start:',c.style.backgroundColor)),f.appendChild(a('grid-item__label--column-end','gridColumnEnd','grid-column-end:',c.style.backgroundColor)),f.appendChild(a('grid-item__label--row-start','gridRowStart','grid-row-start:',c.style.backgroundColor)),f.appendChild(a('grid-item__label--row-end','gridRowEnd','grid-row-end:',c.style.backgroundColor)),c.appendChild(f),d.addEventListener('click',()=>{d.parentNode.remove()}),j.appendChild(c)});const u=document.getElementsByClassName('grid-item__button--delete');for(let a of u)a.addEventListener('click',(a)=>{a.target.parentNode.remove()});const v=document.getElementsByClassName('gridColumnStart'),w=document.getElementsByClassName('gridColumnEnd'),x=document.getElementsByClassName('gridRowStart'),y=document.getElementsByClassName('gridRowEnd');for(let a of v)a.addEventListener('change',(a)=>{let b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridColumnStart=`${b}`});for(let a of w)a.addEventListener('change',(a)=>{let b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridColumnEnd=`${b}`});for(let a of x)a.addEventListener('change',(a)=>{let b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridRowStart=`${b}`});for(let a of y)a.addEventListener('change',(a)=>{let b=a.target.value;a.target.parentNode.parentNode.parentNode.style.gridRowEnd=`${b}`});const z=document.getElementById('showHelp'),A=document.getElementById('helpModal'),B=document.getElementById('closeModal');z.addEventListener('click',()=>{A.classList.add('grid-options__help-box--visible'),a()}),B.addEventListener('click',()=>{A.classList.remove('grid-options__help-box--visible'),a()})})();